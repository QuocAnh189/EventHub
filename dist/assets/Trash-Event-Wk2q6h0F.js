import{w as S,o as R,r as s,ct as O,j as t,aM as I,cq as L,bb as D,bU as $,bV as V,B as H}from"./index-DJCO8Dfg.js";import{P as U}from"./PageHeader-Dvd09tMC.js";import{P as q}from"./protected-CfuprWCo.js";import{u as B,P as b}from"./Pagination-Bq7Xuqug.js";import{C as y}from"./CardMyEvent-C6rL8x9S.js";import{C as G}from"./Dialog-BFmqUljj.js";import{S as u}from"./index-BuNyPfgO.js";import{c as z,d as C}from"./event.type-DR50DJ6U.js";import{F as J}from"./FormGroup-bbfd8naf.js";import"./index-T3bh9t9-.js";import"./CircularProgress-JLASbDPe.js";const K=({t:n})=>{const N=R(e=>e.persistedReducer.category.categories),[d,m]=s.useState(z),[p,w]=s.useState(),[o,T]=s.useState([]),[c,P]=s.useState(!1),[f,k]=s.useState(!1),[a,v]=s.useState(C),[l,x]=s.useState([]),[F]=O();s.useEffect(()=>{T([]),w(void 0)},[]);const i=B(p==null?void 0:p.totalCount,4);s.useEffect(()=>{x(c?o.map(e=>e.id):[])},[c]),s.useEffect(()=>{m({...d,page:i.currentPage})},[i.currentPage]);const h=({value:e,label:r},g)=>{v(M=>({...M,[g]:{value:e,label:r}}))},_=()=>{var e;m({...d,type:(e=a.status)==null?void 0:e.value,categoryIds:a.category.value})},j=e=>{if(l.includes(e)){const r=l.filter(g=>g!==e);x(r)}else x([...l,e])},A=async()=>{try{l.length&&await F(l).unwrap()&&H.success("Restore Event successfully")}catch(e){console.log(e)}},E=()=>{};return t.jsxs("div",{className:"flex flex-col flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3 md:gap-x-6 xl:grid-cols-6",children:[t.jsx(u,{options:I,value:a==null?void 0:a.status,placeholder:n("management.label_status"),onChange:e=>h(e,"status")}),t.jsx(u,{options:N.map(e=>({value:e.id,label:e.name})),value:a==null?void 0:a.category,placeholder:n("management.label_category"),onChange:e=>h(e,"category")}),t.jsx(u,{options:L,value:a.eventTicketType,placeholder:n("management.label_price"),onChange:e=>h(e,"eventTicketType")}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx("button",{className:"btn bg-primary flex text-white !gap-[5px]",onClick:_,children:n("management.filter")}),t.jsx("button",{className:"btn btn--outline blue !h-[44px]",onClick:()=>{v(C)},children:n("management.clear")})]})]}),t.jsx(D,{wrapperClass:"lg:w-[326px]",placeholder:"Search Event",onChange:e=>{m({...d,search:e})}})]}),t.jsxs("div",{className:"w-full flex items-center justify-between py-4",children:[o.length!==0&&t.jsx(J,{sx:{display:"flex",flexDirection:"row"},children:t.jsx($,{sx:{"& .MuiFormControlLabel-label":{color:"var(--header)"}},control:t.jsx(V,{sx:{color:"var(--header)"},checked:c,onChange:()=>{P(!c)}}),label:"Select all"})}),t.jsx("button",{onClick:A,className:"btn bg-primary flex text-white !gap-[5px]",children:"Restore"})]}),o.length!==0&&t.jsxs("div",{className:"flex flex-col gap-[22px]",children:[t.jsx("div",{className:"w-full grid grid-cols-2 gap-10",children:o==null?void 0:o.map((e,r)=>t.jsx(y,{event:e,checkedAll:c,eventIds:l,onChecked:j,refect:E},`event-${r}`))}),i.maxPage>1&&t.jsx(b,{pagination:i})]}),t.jsxs("div",{className:"flex flex-col gap-[22px]",children:[t.jsx("div",{className:"w-full grid grid-cols-2 gap-10",children:Array(4).fill(1).map((e,r)=>t.jsx(y,{event:e,checkedAll:c,eventIds:l,onChecked:j,refect:E},`event-${r}`))}),i.maxPage>1&&t.jsx(b,{pagination:i})]}),f&&t.jsx(G,{title:"Action Event",description:"Are you sure want to delete this events",open:f,setOpen:e=>{k(e)},action:"Ok",onHandle:()=>{},disabled:!1})]})},Q=S("my_event")(K),W=({t:n})=>t.jsx(q,{children:t.jsxs("div",{className:"min-h-screen",children:[t.jsx(U,{title:n("header.trash")}),t.jsx(Q,{})]})}),ce=S("my_event")(W);export{ce as default};
