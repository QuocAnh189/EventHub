import{w as j,j as e,b as C,r as n,aH as h,aI as N,u as S,aA as T,y as b,aB as I,aJ as R,aK as P,m as A,n as $,k,V,L as D}from"./index-DvJADuuC.js";import{u as z,P as O}from"./Pagination-BeWWSkqP.js";import{u as F}from"./index.esm-bUiicC61.js";import{P as L}from"./PageHeader-_O0na-pf.js";import{S as f}from"./index-gs_HlpK9.js";import{F as M}from"./FormGroup-Da31kQx8.js";import{R as G,a as u}from"./RadioGroup-BLMCvYMm.js";import{D as y}from"./Divider-AfP_DQxj.js";import{I as _}from"./index-DcDb4QV2.js";import{a as E}from"./event.type-_k6PWjAN.js";import"./index-DK7xUF5k.js";const Y=r=>{const{t:s,category:a}=r;return e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx("div",{style:{backgroundColor:a.color},className:`w-[30px] h-[30px] rounded-lg bg-[${a.color}] flex items-center justify-center`,children:e.jsx("img",{loading:"lazy",className:"w-[20px] h-[20px]",src:a.iconImage})}),e.jsx("p",{className:"text-header",children:s(`category.${a.name}`)})]})},B=j("common")(Y),H=r=>{const{t:s,watch:a,setValue:t}=r,d=C(l=>l.persistedReducer.category.categories),[i,x]=n.useState([]),v=l=>{if(i!=null&&i.includes(l)){const o=i.filter(c=>c!==l);x(o)}else x([...i,l])};return n.useEffect(()=>{t("categoryIds",i)},[i.length]),e.jsxs("div",{className:"hidden mdl:flex flex-col gap-6 px-6",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-black text-xl font-semibold text-header",children:s("sidebar.rate.label")})}),e.jsx(M,{"aria-labelledby":"demo-radio-buttons-group-label",defaultValue:"female",onChange:l=>{var o,c;if((o=a().rates)!=null&&o.includes(l.target.value)){const m=(c=a().rates)==null?void 0:c.filter(p=>p!==l.target.value);t("rates",m)}else t("rates",[...a().rates,l.target.value])},children:[5,4,3,2,1].map((l,o)=>e.jsx(h,{sx:{color:"var(--header)"},value:l,control:e.jsx(N,{sx:{color:"var(--header)"}}),label:e.jsxs("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map((c,m)=>e.jsx("i",{className:`icon-star-solid text-${c<=l?"yellow":"gray"}`},`rate-${m}`)),e.jsxs("p",{children:["(",l," ",s("sidebar.rate.star"),")"]})]})},`rate-${o}`))})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-black text-xl font-semibold text-header",children:s("sidebar.status.label")})}),e.jsxs(G,{"aria-labelledby":"demo-radio-buttons-group-label",defaultValue:"female",name:"radio-buttons-group",value:a().type,onChange:l=>{t("type",l.target.value)},children:[e.jsx(h,{sx:{color:"var(--header)"},value:"ALL",control:e.jsx(u,{sx:{color:"var(--header)"}}),label:s("sidebar.status.all")}),e.jsx(h,{sx:{color:"var(--header)"},value:"UPCOMING",control:e.jsx(u,{sx:{color:"var(--header)"}}),label:s("sidebar.status.upcoming")}),e.jsx(h,{sx:{color:"var(--header)"},value:"OPENING",control:e.jsx(u,{sx:{color:"var(--header)"}}),label:s("sidebar.status.opening")}),e.jsx(h,{sx:{color:"var(--header)"},value:"CLOSED",control:e.jsx(u,{sx:{color:"var(--header)"}}),label:s("sidebar.status.closed")})]})]}),e.jsx(y,{color:"#808080"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-black text-xl font-semibold text-header",children:s("sidebar.category.label")})}),e.jsx("div",{className:"space-y-2",children:d.map((l,o)=>e.jsxs("div",{className:"flex flex-row items-center",children:[e.jsx(N,{checked:i.includes(l.id),onChange:()=>{v(l.id)},name:"antoine",sx:{pl:"0px",color:"var(--header)"}}),e.jsx(B,{category:l})]},`category-${o}`))})]}),e.jsx(y,{color:"#808080"})]})},U=j("explore")(H),J=r=>{const{event:s}=r,a=S(),t=()=>{a(`/organization/event/${s.id}`)};return e.jsxs("button",{onClick:t,className:"flex gap-2 h-[200px] items-center rounded-md shadow-lg hover:cursor-pointer",children:[e.jsx("div",{className:"w-1/2 h-full flex flex-1",children:e.jsx("img",{loading:"lazy",src:s.coverImage?s.coverImage:"https://res.cloudinary.com/dadvtny30/image/upload/v1712409123/eventhub/event/w3xvrrue35iu1gncudsa.jpg",alt:"",className:"w-full h-full object-cover rounded-l-md"})}),e.jsxs("div",{className:"flex flex-1 flex-col gap-2",children:[e.jsx("p",{className:"line-clamp-1 text-2xl text-left text-header",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{size:20,color:"var(--header)"}),e.jsx("p",{className:"text-header",children:b(s.startTime).format("DD/MM/YYYY dddd").toString()})]}),e.jsxs("div",{className:"flex items-center gap-2 justify-start",children:[e.jsx(I,{size:20,color:"var(--header)"}),e.jsx("p",{className:"line-clamp-1 text-left text-header",children:s.location})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{size:20,color:"var(--header)"}),e.jsxs("p",{className:"text-header",children:[b(s.startTime).format("hh:mm A").toString()," - ",b(s.endTime).format("hh:mm A").toString()]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(R,{color:"#3D56F0",size:"24px"}),e.jsxs("p",{className:"text-primary text-xl",children:[s.priceRange.startRange,".000 VND"]})]}),e.jsx("div",{className:"flex items-center gap-1 label-text leading-none w-[30px] hover:cursor-pointer pb-2",children:[1,2,3,4,5].map((d,i)=>e.jsx("i",{className:`icon-star-solid text-${d<=s.averageRating?"yellow":"gray"}`},`rate-${i}`))})]})]})},K=r=>{const{t:s,setValue:a}=r;return e.jsxs("div",{className:"w-full flex items-center gap-4 pb-4 px-4 mdl:hidden",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("p",{className:"text-gray500 inline-block text-header",children:[s("sidebar.rate.label"),": "]}),e.jsx(f,{placeholder:s("asc"),options:P||[],onChange:t=>{a("order",t.value)}})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("p",{className:"text-gray500 inline-block text-header",children:[s("sidebar.status.label"),": "]}),e.jsx(f,{placeholder:s("asc"),options:A||[],onChange:t=>{a("order",t.value)}})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("p",{className:"text-gray500 inline-block text-header",children:[s("sidebar.category.label"),": "]}),e.jsx(f,{placeholder:s("asc"),options:$||[],onChange:t=>{a("order",t.value)}})]})]})},Q=j("explore")(K),Z={coverImage:null,name:"My Event",startTime:"2022-12-12T12:00:00.000Z",location:"HCM",description:"This is a description This is a description This is a description This is a description This is a description This is a description This is a description",eventPaymentType:"PAID",priceRange:{startRange:100}},q=({t:r})=>{var m,p;const{watch:s,setValue:a}=F({defaultValues:E}),{data:t,isFetching:d,refetch:i}=k(s());n.useEffect(()=>{a("page",1)},[s().type,s().search,s().categoryIds,s().order,(m=s().priceRange)==null?void 0:m.startRange,(p=s().rates)==null?void 0:p.length]),n.useEffect(()=>{i()},[s().page]);const[x,v]=n.useState(),[l,o]=n.useState([]);console.log(l),n.useEffect(()=>{t&&(v(t.metadata),o(t==null?void 0:t.items))},[t]);const c=z(x==null?void 0:x.totalCount,E.size);return n.useEffect(()=>{a("page",c.currentPage)},[c.currentPage]),e.jsxs("div",{className:"w-full",children:[e.jsx(L,{title:r("header.title")}),e.jsxs("form",{className:"flex gap-8 py-8",children:[e.jsx(U,{watch:s,setValue:a}),e.jsxs("div",{className:"relative flex flex-1 flex-col items-center mb-10",children:[e.jsxs("div",{className:"w-full flex items-center justify-between pb-4 px-4 mdl:px-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("p",{className:"text-gray500 inline-block text-header",children:[r("sort"),": "]}),e.jsx(f,{placeholder:r("asc"),options:[{value:"ASC",label:r("asc")},{value:"DESC",label:r("desc")}],onChange:g=>{a("order",g.value)}})]}),e.jsx(V,{wrapperClass:"lg:w-[326px]",placeholder:r("search"),onChange:g=>{a("search",g)}})]}),e.jsx(Q,{watch:s,setValue:a}),d&&e.jsx("div",{className:"relative w-full h-[300px] flex items-center justify-center",children:e.jsx(D,{})}),!d&&e.jsx("div",{className:"w-full grid xl:grid-cols-2 gap-8 grid-rows-5",children:Array(9).fill(1).map((g,w)=>e.jsx(J,{event:Z},`event-${w}`))}),e.jsx("div",{className:"absolute w-full -bottom-20 left-0 right-0 flex items-center justify-center",children:c.maxPage>1&&e.jsx(O,{pagination:c})})]})]})]})},ne=j("explore")(q);export{ne as default};
