import{w as v,u as S,C as O,j as e,B as N,r as l,t as C,v as F,n as U,z,D as I,l as M,E as $,x as A}from"./index-DJCO8Dfg.js";import{u as R}from"./index.esm-BuvU34yl.js";import{o as W,s as j,t as Y,b as V,c as B,a as H}from"./bg_auth-DbNAwwa5.js";import{c as u}from"./index-T3bh9t9-.js";import{m as t}from"./motion-Cv2RuNik.js";import{a as L}from"./index.prod-DBOaRFRS.js";import{C as G}from"./CircularProgress-JLASbDPe.js";const J=new RegExp("^[+]?[(]?[0-9]{3}[)]?[-s.]?[0-9]{3}[-s.]?[0-9]{4,6}$"),X=W({email:j().min(1,{message:"Email is not empty"}).max(50,{message:"Email must not exceed 50 characters"}).email("Email invalid"),fullName:j().min(1,"Name is not empty").max(32,{message:"Name must not exceed 32 characters"}),phoneNumber:j().min(1,"Phone is not empty").regex(J,"Phone is invalid").max(12,{message:"phone must not exceed 12 characters"})}),q=n=>{var m;const{t:s,formDataSessionOne:h,setFormDataSessionOne:r,nextSession:f}=n,d=S(),[c,{isLoading:b}]=O(),{register:o,handleSubmit:g,formState:{errors:a}}=R({resolver:Y(X),defaultValues:h}),x=async p=>{try{await c(p).unwrap()&&f()}catch(w){switch(w.data.message){case"Email already exists":N.error("Email already exists");break;case"Phone number already exists":N.error("Phone already exists");break}}};return e.jsxs("div",{className:"mt-4 flex flex-col items-center",children:[e.jsxs("form",{onSubmit:g(x),className:"mt-4 flex flex-col w-4/5 sm:w-full",children:[e.jsxs(t.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.3},className:"relative mb-6",children:[e.jsx("input",{...o("email"),className:u("field-input text-header block min-h-[auto] w-full rounded-2xl border-[2px] px-3 py-6 font-semibold placeholder-gray-400 outline-none placeholder:italic focus:border-[2px]",{"field-input--error":a.email}),type:"email",name:"email",placeholder:s("session_one.email_placeholder"),onChange:r}),a.email&&e.jsx("p",{className:"mt-1 text-red",children:a.email.message})]}),e.jsxs(t.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.4},className:"relative mb-6",children:[e.jsx("input",{className:u("field-input text-header block min-h-[auto] w-full rounded-2xl border-[2px] px-3 py-6 font-semibold placeholder-gray-400 outline-none placeholder:italic focus:border-[2px]",{"field-input--error":a.fullName}),...o("fullName"),type:"text",name:"fullName",placeholder:s("session_one.fullname_placeholder"),onChange:r}),a.fullName&&e.jsx("p",{className:"mt-1 text-red",children:a.fullName.message})]}),e.jsxs(t.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.5},className:"relative mb-6",children:[e.jsx("input",{className:u("field-input text-header block min-h-[auto] w-full rounded-2xl border-[2px] px-3 py-6 font-semibold placeholder-gray-400 outline-none placeholder:italic focus:border-[2px]",{"field-input--error":a.phoneNumber}),...o("phoneNumber"),type:"text",name:"phoneNumber",placeholder:s("session_one.phone_placeholder"),onChange:r}),a.phoneNumber&&e.jsx("p",{className:"mt-1 text-red",children:a.phoneNumber.message})]}),e.jsxs(t.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.5},className:"relative mb-6",children:[e.jsx("input",{className:u("field-input text-header block min-h-[auto] w-full rounded-2xl border-[2px] px-3 py-6 font-semibold placeholder-gray-400 outline-none placeholder:italic focus:border-[2px]",{"field-input--error":a.dob}),...o("dob"),type:"date",name:"dob",onChange:r}),a.phoneNumber&&e.jsx("p",{className:"mt-1 text-red",children:(m=a.dob)==null?void 0:m.message})]}),e.jsx(t.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.6},children:e.jsx("button",{disabled:b,type:"submit",className:"flex w-full btn hover:bg-blue-light2 bg-blue-light3 text-white",children:s("session_one.submit_btn")})})]}),e.jsxs(t.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.7},className:"mt-3 flex w-full flex-col gap-y-2",children:[e.jsx("button",{onClick:()=>d("/signin"),className:"block w-full py-4 text-sm font-semibold hover:rounded-[18px] hover:bg-gray-light2 text-header",children:s("session_one.option")}),e.jsx("button",{className:"block w-full py-4 text-sm font-bold hover:rounded-[18px] hover:bg-gray-light2 text-header",onClick:()=>{d(-1)},children:s("session_one.back_btn")})]})]})},K=v("signup")(q),Q=n=>{const{t:s,formDataSessionTwo:h,handleSubmit:r,setFormDataSessionTwo:f,backSession:d,disabled:c}=n,b=S(),[o,g]=l.useState(!1),[a,x]=l.useState(!1),[m,p]=l.useState(!1);return e.jsxs("div",{className:"mt-4 flex flex-col items-center",children:[e.jsxs("div",{className:"mt-4 flex flex-col w-4/5 sm:w-full",children:[e.jsxs(t.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.4},className:"relative mb-6",children:[e.jsx("input",{className:u("field-input text-header block min-h-[auto] w-full rounded-2xl border-[2px] px-3 py-6 font-semibold placeholder-gray-400 outline-none placeholder:italic focus:border-[2px]"),type:a?"text":"password",value:h.password,name:"password",placeholder:s("session_two.password_placeholder"),onChange:f}),e.jsx("button",{className:"absolute right-4 top-[50%] translate-y-[-50%] cursor-pointer",onClick:()=>{x(!a)},children:a?e.jsx(C,{className:" h-[20px] w-[20px]"}):e.jsx(F,{className:" h-[20px] w-[20px]"})})]}),e.jsxs(t.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.5},className:"relative mb-6","data-te-input-wrapper-init":!0,children:[e.jsx("input",{className:u("field-input text-header block min-h-[auto] w-full rounded-2xl border-[2px] px-3 py-6 font-semibold placeholder-gray-400 outline-none placeholder:italic focus:border-[2px]"),type:m?"text":"password",name:"confirmPassword",placeholder:s("session_two.confirm_password_placeholder")}),e.jsx("button",{className:"absolute right-4 top-[50%] translate-y-[-50%] cursor-pointer",onClick:()=>{p(!m)},children:m?e.jsx(C,{className:" h-[20px] w-[20px]"}):e.jsx(F,{className:" h-[20px] w-[20px]"})})]}),e.jsxs(t.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.6},className:"mb-4 flex w-full items-center justify-start text-right",children:[e.jsx(L,{onChange:()=>{g(!o)},checked:o}),e.jsxs("span",{className:"ml-[10px] mt-0 inline-block h-[30px] text-sm font-semibold leading-[30px] text-header",children:["Accept ",e.jsx("a",{className:"text-blue-light2 outline-none",children:"Terms of use "}),"and",e.jsx("a",{className:"text-blue-light2 outline-none",children:" Privacy policy"})]})]}),e.jsx(t.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.7},children:e.jsx("button",{className:"flex w-full btn hover:bg-blue-light2 bg-blue-light3 text-white",disabled:c,onClick:r,children:c?e.jsx(G,{size:28,color:"info"}):s("session_two.signup_btn")})})]}),e.jsxs(t.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.7},className:"mt-3 flex w-full flex-col gap-y-2",children:[e.jsx("button",{onClick:()=>b("/signin"),className:"block w-full py-4 text-sm font-semibold hover:rounded-[18px] hover:bg-gray-light2 text-header",children:s("session_two.option")}),e.jsx("button",{className:"block w-full py-4 text-sm font-bold hover:rounded-[18px] hover:bg-gray-light2 text-header",onClick:d,children:s("session_two.back_btn")})]})]})},Z=v("signup")(Q),ee=({t:n})=>{const s=U(),h=S(),{width:r}=z(),[f,{isLoading:d}]=I(),[c,b]=l.useState(V),[o,g]=l.useState(B),[a,x]=l.useState(!0),[m,p]=l.useState(!1),w=l.useMemo(()=>()=>{x(!1),p(!0)},[]),k=l.useMemo(()=>()=>{x(!0),p(!1)},[]),E=i=>{console.log(i.target.name,i.target.value),b({...c,[i.target.name]:i.target.value})},P=i=>{g({...o,[i.target.name]:i.target.value})},D=async()=>{const i={...c,...o};try{const y=await f({...i,dob:$(i.dob).format("DD/MM/YYYY")}).unwrap();if(y){localStorage.setItem("token",JSON.stringify(y));const _=await(await fetch("http://localhost:8002/api/v1/auth/profile",{headers:{Authorization:`Bearer ${y.accessToken}`}})).json();_&&(s(A(_.data)),h("/organization"))}}catch(y){switch(y.data.message){case"Email already exists":N.error("Email already exists");break;case"Phone number already exists":N.error("Phone already exists");break}}};return e.jsxs("div",{className:"flex-1 grid grid-cols-1 xl:grid-cols-2 4xl:grid-cols-[minmax(0,_1030px)_minmax(0,_1fr)]",children:[r>=1280&&e.jsxs("div",{className:"flex flex-col justify-center items-center lg:p-[60px]",children:[e.jsx("a",{className:"logo",href:"/",children:e.jsx("img",{loading:"lazy",src:M,alt:"EventHub",className:"w-[200px] object-cover"})}),e.jsx("p",{className:"text-center tracking-[0.2px] font-semibold text-lg leading-6 max-w-[540px] my-7 mx-auto",children:n("slogan")}),e.jsx("img",{loading:"lazy",className:"max-w-[780px]",src:H,alt:"media"})]}),e.jsx("div",{className:"relative w-full h-screen flex justify-center items-center",children:e.jsx(t.main,{initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.1},className:"mx-auto mt-auto flex min-h-screen w-full max-w-full flex-col overflow-hidden bg-pink",children:e.jsxs("div",{className:"absolute left-[50%] top-[50%] min-h-full w-[600px] translate-x-[-50%] translate-y-[-50%] overflow-hidden rounded-[50px] bg-body px-[100px] py-[60px] mdl:min-h-[600px]",children:[e.jsx(t.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.2},className:"mb-[30px] flex flex-row items-center justify-center gap-x-4",children:e.jsx("h1",{className:"text-4xl font-semibold",children:n("title")})}),e.jsxs("div",{className:"block h-full",children:[a&&e.jsx(K,{nextSession:w,formDataSessionOne:c,setFormDataSessionOne:E}),m&&e.jsx(Z,{backSession:k,formDataSessionTwo:o,setFormDataSessionTwo:P,handleSubmit:D,disabled:d})]}),e.jsx("div",{className:"absolute bottom-0 left-[50%] min-h-[40px] w-full translate-x-[-50%] text-center",children:e.jsxs("p",{className:"font-semibold text-header",children:[n("footer_one")," - ",e.jsx("span",{className:"font-bold text-header",children:n("footer_two")})]})})]})})})]})},re=v("signup")(ee);export{re as default};
