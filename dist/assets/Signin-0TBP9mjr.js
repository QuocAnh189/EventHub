import{f as C,c as X,g as W,a as Y,k as O,s as G,_ as v,b as I,r as x,d as V,e as H,j as e,h as K,i as $,w,m as J,n as D,u as q,o as Z,p as ee,q as te,t as j,v as N,x as se,B as z,y as ae,z as ie,l as ne}from"./index-DJCO8Dfg.js";import{c as b}from"./index-T3bh9t9-.js";import{m as r}from"./motion-Cv2RuNik.js";import{u as oe}from"./index.esm-BuvU34yl.js";import{o as re,s as E,t as le,I as ce,E as R,a as de}from"./bg_auth-DbNAwwa5.js";import{C as pe}from"./CircularProgress-JLASbDPe.js";function he(t,s=0,a=1){return X(t,s,a)}function xe(t){t=t.slice(1);const s=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let a=t.match(s);return a&&a[0].length===1&&(a=a.map(i=>i+i)),a?`rgb${a.length===4?"a":""}(${a.map((i,n)=>n<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function L(t){if(t.type)return t;if(t.charAt(0)==="#")return L(xe(t));const s=t.indexOf("("),a=t.substring(0,s);if(["rgb","rgba","hsl","hsla","color"].indexOf(a)===-1)throw new Error(C(9,t));let i=t.substring(s+1,t.length-1),n;if(a==="color"){if(i=i.split(" "),n=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(n)===-1)throw new Error(C(10,n))}else i=i.split(",");return i=i.map(o=>parseFloat(o)),{type:a,values:i,colorSpace:n}}function ue(t){const{type:s,colorSpace:a}=t;let{values:i}=t;return s.indexOf("rgb")!==-1?i=i.map((n,o)=>o<3?parseInt(n,10):n):s.indexOf("hsl")!==-1&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),s.indexOf("color")!==-1?i=`${a} ${i.join(" ")}`:i=`${i.join(", ")}`,`${s}(${i})`}function me(t,s){return t=L(t),s=he(s),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${s}`:t.values[3]=s,ue(t)}function ge(t){return String(t).match(/[\d.\-+]*\s*(.*)/)[1]||""}function fe(t){return parseFloat(t)}function be(t){return W("MuiSkeleton",t)}Y("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const ye=["animation","className","component","height","style","variant","width"];let A=t=>t,U,_,F,P;const we=t=>{const{classes:s,variant:a,animation:i,hasChildren:n,width:o,height:l}=t;return $({root:["root",a,i,n&&"withChildren",n&&!o&&"fitContent",n&&!l&&"heightAuto"]},be,s)},ve=O(U||(U=A`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),Ae=O(_||(_=A`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),je=G("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,s[a.variant],a.animation!==!1&&s[a.animation],a.hasChildren&&s.withChildren,a.hasChildren&&!a.width&&s.fitContent,a.hasChildren&&!a.height&&s.heightAuto]}})(({theme:t,ownerState:s})=>{const a=ge(t.shape.borderRadius)||"px",i=fe(t.shape.borderRadius);return v({display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:me(t.palette.text.primary,t.palette.mode==="light"?.11:.13),height:"1.2em"},s.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${i}${a}/${Math.round(i/.6*10)/10}${a}`,"&:empty:before":{content:'"\\00a0"'}},s.variant==="circular"&&{borderRadius:"50%"},s.variant==="rounded"&&{borderRadius:(t.vars||t).shape.borderRadius},s.hasChildren&&{"& > *":{visibility:"hidden"}},s.hasChildren&&!s.width&&{maxWidth:"fit-content"},s.hasChildren&&!s.height&&{height:"auto"})},({ownerState:t})=>t.animation==="pulse"&&I(F||(F=A`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),ve),({ownerState:t,theme:s})=>t.animation==="wave"&&I(P||(P=A`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),Ae,(s.vars||s).palette.action.hover)),Q=x.forwardRef(function(s,a){const i=V({props:s,name:"MuiSkeleton"}),{animation:n="pulse",className:o,component:l="span",height:d,style:p,variant:u="text",width:g}=i,m=H(i,ye),f=v({},i,{animation:n,component:l,variant:u,hasChildren:!!m.children}),c=we(f);return e.jsx(je,v({as:l,ref:a,className:K(c.root,o),ownerState:f},m,{style:v({width:g,height:d},p)}))}),Ne=t=>{const{t:s,changeSession:a}=t,[i,{isLoading:n}]=J(),[o,l]=x.useState(""),d=async()=>{try{await i({email:o}).unwrap()&&a("verify-opt")}catch(p){console.log(p)}};return e.jsx("div",{className:"flex flex-col h-full items-center",children:e.jsxs("div",{className:"mt-4 flex flex-col w-4/5 sm:w-full",children:[e.jsx(r.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.1},className:"relative mb-6",children:e.jsx("input",{className:b("field-input text-header block min-h-[auto] w-full rounded-2xl border-[2px] px-3 py-6 font-semibold placeholder-gray-400 outline-none placeholder:italic focus:border-[2px]"),type:"email",value:o,name:"email",placeholder:s("forgot_password.email_placeholder"),onChange:p=>{l(p.target.value)}})}),e.jsx(r.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.2},children:e.jsx("button",{className:"flex w-full btn hover:bg-blue-light2 bg-blue-light2 text-white",disabled:!o,onClick:d,children:n?e.jsx(Q,{}):s("submit_btn")})}),e.jsx(r.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.3},children:e.jsx("button",{onClick:()=>{a("sign-in")},className:"mt-3 block w-full py-4 text-sm font-bold hover:rounded-[18px] hover:bg-gray-light2 text-header",children:s("back_btn")})})]})})},ke=w("signin")(Ne),Se="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIdSURBVHgBlVJLTBNRFL33zXRKIWCtEeInfhADMUabFHGnI240EdP4SXTjZ+NSjDtjqhJiXEoMG10oK3ChQiIh0WApC42YNlF0Q4ymZVlEWixgZzrv+t6QkWn5n2TezLlzz7v3vncQSjChN+qWgmEFoIUAamWMIXzjBHEi9rAmOjLqzkfnY/Lk4Sqe522EcANWxiPTx29t60/M2pvLherqvJbJh9cgBiI4zXKeaoercknv8D9AgqArKSnafyzerz1IFQVgBxDotvzHuXJsS+xj8v8I1O+tnXza8INnNWeo9zOFilO7Y7GMu/KUHvQTK98QiH5IueNovPV0QV69NDe4Ff5+DaRKK6wGFRUIga+A5S3jwPZMd1denygSN7f/ubesGllCBYL9Di9rmIouSmJ4d9kNiHqYm3OgKlgHCPhGeQvfxbNXBgbyOw8C/OwtTsOuYhGFhXn88wTH0BhUO3Jca43kQjBiVGcMjdePnulNL1Wx+T7VEM3EEWG73THCFfapsPnl5cxRKZYxv5bHN02vwpuWaFgUnu10xNIsYJjDtpVD3Wc7kEHrQpuQZICdwK04V8FCix0C8l0r+32+XssetzXEqX0oUnnHJvqQrubSgXeiyBFYBVr2BHl/XfgynRprSjxpNNF1Ohh6fq4NkSIrbSAs/cyc4zc/X+3LzPMSBHvCu1RQImKkfcSFyVCcFdG4MP0AkdIXv/gi5s7/Bzda1AAj2ek/AAAAAElFTkSuQmCC",Ce="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGXSURBVHgBnVM7T8JQFD6nEIHE8HDQuhiILk7WhTgYA5OjuLmaOBkTH4l00YCLCSExqPwBf4DRwR1WExM7uLkwShxK0aWY9nhuES21EfAbes/9er57XvcieCCreoYgsIFAqwCYdEjEJyB6sGw6fS3Hnt3+2DPie3o8Eg6UiWAL/gJi1aSPI700YXwfIMShULDGURUYAgSkmaadbVUSLUkQ4bHAmb+YGnIM1gGs1NKstMhlXHWjohIKBQqOLeeNNKd17x/LSr2UEo3eTj40iiBhwfU/G+Tvtr8Y6j3xZL6dkxB22Uz2lyLlghw9DQPwJc54eS5lTfRgHv6PGZTVNnlITj2a9fOeO367ee9Qzs2JDBowJFgcd+/FOIM8mjvuw84PCQpnVeNVa5ai+4KbUo0K17sAnj4wp0mA9nU/CSJKhlfF5fhL3IV1IvGo6kR0ASOC0z8XY3ZuotmxC3yINoL8sRmJHgjLOUDcaQs6K2TT5UApR0Y9ugxFtMUevQ78nJNAUpEbSzzOTc5sfFptVwmhhWDfipLd/p/rxJeG5AxdkwAAAABJRU5ErkJggg==",Ie=re({identity:E().min(1,"Account is not empty"),password:E().min(1,"Password is not empty")}),Ee=t=>{const{t:s,changeSession:a}=t,i=D(),n=q(),o=Z(y=>y.persistedReducer.user.user),[l,d]=x.useState(!1),[p]=ee(),[u,{isLoading:g}]=te();x.useLayoutEffect(()=>{o&&n("/organization")},[]);const{register:m,handleSubmit:f,formState:{errors:c}}=oe({resolver:le(Ie),defaultValues:ce}),T=async y=>{try{const h=await u(y).unwrap();if(h){localStorage.setItem("token",JSON.stringify(h));const S=await(await fetch("http://localhost:8002/api/v1/auth/profile",{headers:{Authorization:`Bearer ${h.accessToken}`}})).json();S&&(i(se(S.data)),n("/organization"))}}catch(h){switch(h.data.message){case"Invalid credentials":z.error("Your account or password is wrong");break}}},k=async y=>{try{const h=await p({provider:y,returnUrl:"http://localhost:3000/organization"}).unwrap();h&&console.log(h)}catch(h){console.log(h)}};return e.jsxs("div",{className:"flex flex-col h-full items-center",children:[e.jsxs("form",{onSubmit:f(T),className:"mt-4 flex flex-col w-4/5 sm:w-full",children:[e.jsxs(r.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.3},className:"relative mb-6",children:[e.jsx("input",{className:b("field-input text-header block min-h-[auto] w-full rounded-2xl border-[2px] px-3 py-6 font-semibold placeholder-gray-400 outline-none placeholder:italic focus:border-[2px]",{"field-input--error":c.identity}),...m("identity"),type:"text",name:"identity",placeholder:s("login.identify_placeholder")}),c.identity&&e.jsx("p",{className:"mt-1 text-red",children:c.identity.message})]}),e.jsxs(r.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.4},className:"mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{className:b("field-input text-header block min-h-[auto] w-full rounded-2xl border-[2px] px-3 py-6 font-semibold placeholder-gray-400 outline-none placeholder:italic focus:border-[2px]",{"field-input--error":c.identity}),...m("password"),type:l?"text":"password",name:"password",placeholder:s("login.password_placeholder")}),e.jsx("button",{type:"button",className:"absolute right-4 top-[50%] translate-y-[-50%] cursor-pointer text-header",onClick:()=>{d(!l)},children:l?e.jsx(j,{className:"h-[20px] w-[20px]"}):e.jsx(N,{className:" h-[20px] w-[20px]"})})]}),c.password&&e.jsx("p",{className:"mt-1 text-red",children:c.password.message})]}),e.jsx(r.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.5},children:e.jsx("button",{disabled:g,type:"submit",className:"flex w-full btn hover:bg-blue-light2 bg-blue-light3 text-white",children:g?e.jsx(pe,{size:28,color:"info"}):s("login.signin_btn")})})]}),e.jsxs("div",{className:"w-4/5 sm:w-full mt-3 flex flex-col gap-y-2",children:[e.jsx(r.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,delay:.6},children:e.jsx("button",{onClick:()=>n("/signup"),className:"block w-full py-4 text-sm font-semibold hover:rounded-[18px] hover:bg-gray-light2 text-header",children:s("login.option")})}),e.jsx(r.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.7},children:e.jsx("button",{onClick:()=>a("forgot-password"),className:"block w-full py-4 text-sm font-semibold hover:rounded-[18px] hover:bg-gray-light2 text-header",children:s("login.forgot_text")})}),e.jsx(r.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.8},onClick:()=>{k(R.GOOGLE)},children:e.jsx("form",{method:"POST",action:"https://eventhubsolutionbackendserverplan.azurewebsites.net/api/auth/external-login?provider=Google&returnUrl=http://localhost:3000/organization",children:e.jsxs("button",{className:"flex w-full flex-row items-center justify-around rounded-2xl border-[2px] border-textPurple bg-white py-[0.8rem] font-bold text-textGray hover:bg-purple hover:text-white",children:[e.jsx("img",{loading:"lazy",src:Se,alt:"",className:"block h-[20px] w-[20px]"}),e.jsx("span",{className:"inline-block",children:s("login.signin_google")}),e.jsx("span",{})]})})}),e.jsx(r.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.8},children:e.jsx("form",{method:"POST",action:"https://eventhubsolutionbackendserverplan.azurewebsites.net/api/auth/external-login?provider=Facebook&returnUrl=http://localhost:3000/organization",children:e.jsxs("button",{className:"flex w-full flex-row items-center justify-around rounded-2xl border-[2px] border-blue bg-white py-[0.8rem] font-bold text-textGray hover:bg-blue-light3 hover:text-white",onClick:()=>{k(R.FACEBOOK)},children:[e.jsx("img",{loading:"lazy",src:Ce,alt:"",className:"block h-[20px] w-[20px]"}),e.jsx("span",{className:"inline-block",children:s("login.signin_facebook")}),e.jsx("span",{})]})})}),e.jsx(r.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.9},children:e.jsx("button",{onClick:()=>{n("/")},className:"mb-3 block w-full py-4 text-sm font-bold hover:rounded-[18px] hover:bg-gray-light2 text-header",children:s("back_btn")})})]})]})},Re=w("signin")(Ee),Ue=t=>{const{t:s,changeSession:a}=t,[i,n]=x.useState(""),o=()=>{a("reset-password")};return e.jsx("div",{className:"flex flex-col h-full items-center",children:e.jsxs("div",{className:"mt-4 flex flex-col w-4/5 sm:w-full",children:[e.jsx(r.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.1},className:"relative mb-6",children:e.jsx("input",{className:b("field-input text-header block min-h-[auto] w-full rounded-2xl border-[2px] px-3 py-6 font-semibold placeholder-gray-400 outline-none placeholder:italic focus:border-[2px]"),type:"text",value:i,name:"opt",placeholder:s("verify_opt.opt_placeholder"),onChange:l=>{n(l.target.value)}})}),e.jsx(r.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.2},children:e.jsx("button",{className:"flex w-full btn hover:bg-blue-light2 bg-blue-light2 text-white",onClick:o,children:s("submit_btn")})}),e.jsx(r.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.3},children:e.jsx("button",{onClick:()=>{a("forgot-password")},className:"mt-3 block w-full py-4 text-sm font-bold hover:rounded-[18px] hover:bg-gray-light2 text-header",children:s("back_btn")})})]})})},_e=w("signin")(Ue),Fe=t=>{const{t:s,changeSession:a}=t,[i,{isLoading:n}]=ae(),o=x.useRef(null),l=x.useRef(null),[d,p]=x.useState(!1),[u,g]=x.useState(!1),m=async()=>{const f={newPassword:o.current,email:"",token:""};try{await i(f).unwrap()&&z.success("Reset password successfully")}catch(c){console.log(c)}};return e.jsx("div",{className:"flex flex-col h-full items-center",children:e.jsxs("div",{className:"mt-4 flex flex-col w-4/5 sm:w-full",children:[e.jsxs(r.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.4},className:"relative mb-6",children:[e.jsx("input",{className:b("field-input text-header block min-h-[auto] w-full rounded-2xl border-[2px] px-3 py-6 font-semibold placeholder-gray-400 outline-none placeholder:italic focus:border-[2px]"),type:d?"text":"password",ref:o,name:"password",placeholder:s("reset_password.password_placeholder")}),e.jsx("button",{className:"absolute right-4 top-[50%] translate-y-[-50%] cursor-pointer",onClick:()=>{p(!d)},children:d?e.jsx(j,{className:" h-[20px] w-[20px]"}):e.jsx(N,{className:" h-[20px] w-[20px]"})})]}),e.jsxs(r.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.5},className:"relative mb-6","data-te-input-wrapper-init":!0,children:[e.jsx("input",{ref:l,className:b("field-input text-header block min-h-[auto] w-full rounded-2xl border-[2px] px-3 py-6 font-semibold placeholder-gray-400 outline-none placeholder:italic focus:border-[2px]"),type:u?"text":"password",name:"confirmPassword",placeholder:s("reset_password.confirm_password_placeholder")}),e.jsx("button",{className:"absolute right-4 top-[50%] translate-y-[-50%] cursor-pointer",onClick:()=>{g(!u)},children:u?e.jsx(j,{className:" h-[20px] w-[20px]"}):e.jsx(N,{className:" h-[20px] w-[20px]"})})]}),e.jsx(r.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.6},children:e.jsx("button",{className:"flex w-full btn hover:bg-blue-light2 bg-blue-light2 text-white",onClick:m,children:n?e.jsx(Q,{}):s("submit_btn")})}),e.jsx(r.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.3},children:e.jsx("button",{onClick:()=>{a("forgot-password")},className:"mt-3 block w-full py-4 text-sm font-bold hover:rounded-[18px] hover:bg-gray-light2 text-header",children:s("back_btn")})})]})})},Pe=w("signin")(Fe),B={"sign-in":!1,"forgot-password":!1,"verify-opt":!1,"reset-password":!1},Be=({t})=>{const{width:s}=ie(),[a,i]=x.useState({...B,"sign-in":!0}),n=o=>{i({...B,[o]:!0})};return e.jsxs("div",{className:"flex-1 grid grid-cols-1 xl:grid-cols-2 4xl:grid-cols-[minmax(0,_1030px)_minmax(0,_1fr)]",children:[s>=1280&&e.jsxs("div",{className:"bg-body flex flex-col justify-center items-center lg:p-[60px]",children:[e.jsx("a",{className:"logo",href:"/",children:e.jsx("img",{loading:"lazy",src:ne,alt:"EventHub",className:"w-[200px] object-cover"})}),e.jsx("p",{className:"text-center text-header tracking-[0.2px] font-semibold text-lg leading-6 max-w-[540px] my-7 mx-auto",children:t("slogan")}),e.jsx("img",{loading:"lazy",className:"max-w-[780px]",src:de,alt:"media"})]}),e.jsx("div",{className:"relative w-full h-screen flex justify-center items-center",children:e.jsx(r.main,{initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.1},className:"mx-auto mt-auto flex min-h-screen w-full max-w-full flex-col overflow-hidden bg-pink",children:e.jsxs("div",{className:"absolute left-[50%] top-[50%] min-h-full w-[600px] translate-x-[-50%] translate-y-[-50%] overflow-hidden rounded-[50px] bg-body px-[100px] py-[60px] mdl:min-h-[600px]",children:[e.jsx(r.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.2},className:"mb-[30px] flex flex-row items-center justify-center gap-x-4",children:e.jsxs("h1",{className:"text-4xl font-semibold",children:[a["sign-in"]&&t("login.title"),a["forgot-password"]&&t("forgot_password.title"),a["verify-opt"]&&t("verify_opt.title"),a["reset-password"]&&t("reset_password.title")]})}),a["sign-in"]&&e.jsx(Re,{changeSession:n}),a["forgot-password"]&&e.jsx(ke,{changeSession:n}),a["verify-opt"]&&e.jsx(_e,{changeSession:n}),a["reset-password"]&&e.jsx(Pe,{changeSession:n}),e.jsx("div",{className:"absolute bottom-0 left-[50%] min-h-[70px] w-full translate-x-[-50%] text-center",children:e.jsxs("p",{className:"font-semibold text-header",children:[t("footer_one")," - ",e.jsx("span",{className:"font-bold text-header",children:t("footer_two")})]})})]})})})]})},Xe=w("signin")(Be);export{Xe as default};
