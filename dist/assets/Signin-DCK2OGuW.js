import{w as u,r as d,j as e,a as z,u as U,b as B,c as F,d as P,e as b,f as y,s as Q,B as O,g as _,l as L}from"./index-B7v0BYK_.js";import{c as p}from"./index-C0VBPpv-.js";import{m as s}from"./motion-zw3TknLN.js";import{u as T}from"./index.esm-DrYQlF8f.js";import{o as R,s as N,t as W,I as X,E as S,a as Y}from"./bg_auth-DM2QhFFz.js";import{C as G}from"./CircularProgress-C-dJdc2w.js";const H=i=>{const{t,changeSession:a}=i,[r,o]=d.useState(""),n=()=>{a("verify-opt")};return e.jsx("div",{className:"flex flex-col h-full items-center",children:e.jsxs("div",{className:"mt-4 flex flex-col w-4/5 sm:w-full",children:[e.jsx(s.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.1},className:"relative mb-6",children:e.jsx("input",{className:p("field-input text-header block min-h-[auto] w-full rounded-2xl border-[2px] px-3 py-6 font-semibold placeholder-gray-400 outline-none placeholder:italic focus:border-[2px]"),type:"email",value:r,name:"email",placeholder:t("forgot_password.email_placeholder"),onChange:c=>{o(c.target.value)}})}),e.jsx(s.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.2},children:e.jsx("button",{className:"flex w-full btn hover:bg-blue-light2 bg-blue-light2 text-white",onClick:n,children:t("submit_btn")})}),e.jsx(s.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.3},children:e.jsx("button",{onClick:()=>{a("sign-in")},className:"mt-3 block w-full py-4 text-sm font-bold hover:rounded-[18px] hover:bg-gray-light2 text-header",children:t("back_btn")})})]})})},V=u("signin")(H),K="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIdSURBVHgBlVJLTBNRFL33zXRKIWCtEeInfhADMUabFHGnI240EdP4SXTjZ+NSjDtjqhJiXEoMG10oK3ChQiIh0WApC42YNlF0Q4ymZVlEWixgZzrv+t6QkWn5n2TezLlzz7v3vncQSjChN+qWgmEFoIUAamWMIXzjBHEi9rAmOjLqzkfnY/Lk4Sqe522EcANWxiPTx29t60/M2pvLherqvJbJh9cgBiI4zXKeaoercknv8D9AgqArKSnafyzerz1IFQVgBxDotvzHuXJsS+xj8v8I1O+tnXza8INnNWeo9zOFilO7Y7GMu/KUHvQTK98QiH5IueNovPV0QV69NDe4Ff5+DaRKK6wGFRUIga+A5S3jwPZMd1denygSN7f/ubesGllCBYL9Di9rmIouSmJ4d9kNiHqYm3OgKlgHCPhGeQvfxbNXBgbyOw8C/OwtTsOuYhGFhXn88wTH0BhUO3Jca43kQjBiVGcMjdePnulNL1Wx+T7VEM3EEWG73THCFfapsPnl5cxRKZYxv5bHN02vwpuWaFgUnu10xNIsYJjDtpVD3Wc7kEHrQpuQZICdwK04V8FCix0C8l0r+32+XssetzXEqX0oUnnHJvqQrubSgXeiyBFYBVr2BHl/XfgynRprSjxpNNF1Ohh6fq4NkSIrbSAs/cyc4zc/X+3LzPMSBHvCu1RQImKkfcSFyVCcFdG4MP0AkdIXv/gi5s7/Bzda1AAj2ek/AAAAAElFTkSuQmCC",J="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGXSURBVHgBnVM7T8JQFD6nEIHE8HDQuhiILk7WhTgYA5OjuLmaOBkTH4l00YCLCSExqPwBf4DRwR1WExM7uLkwShxK0aWY9nhuES21EfAbes/9er57XvcieCCreoYgsIFAqwCYdEjEJyB6sGw6fS3Hnt3+2DPie3o8Eg6UiWAL/gJi1aSPI700YXwfIMShULDGURUYAgSkmaadbVUSLUkQ4bHAmb+YGnIM1gGs1NKstMhlXHWjohIKBQqOLeeNNKd17x/LSr2UEo3eTj40iiBhwfU/G+Tvtr8Y6j3xZL6dkxB22Uz2lyLlghw9DQPwJc54eS5lTfRgHv6PGZTVNnlITj2a9fOeO367ee9Qzs2JDBowJFgcd+/FOIM8mjvuw84PCQpnVeNVa5ai+4KbUo0K17sAnj4wp0mA9nU/CSJKhlfF5fhL3IV1IvGo6kR0ASOC0z8XY3ZuotmxC3yINoL8sRmJHgjLOUDcaQs6K2TT5UApR0Y9ugxFtMUevQ78nJNAUpEbSzzOTc5sfFptVwmhhWDfipLd/p/rxJeG5AxdkwAAAABJRU5ErkJggg==",M=R({identity:N().min(1,"Account is not empty"),password:N().min(1,"Password is not empty")}),D=i=>{const{t,changeSession:a}=i,r=z(),o=U(),n=B(m=>m.persistedReducer.user.user),[c,h]=d.useState(!1),[g]=F(),[f,{isLoading:w}]=P();d.useLayoutEffect(()=>{n&&o("/organization")},[]);const{register:A,handleSubmit:I,formState:{errors:x}}=T({resolver:W(M),defaultValues:X}),C=async m=>{try{const l=await f(m).unwrap();if(l){localStorage.setItem("token",JSON.stringify(l));const v=await(await fetch("https://eventhubsolutionbackendserverplan.azurewebsites.net/api/auth/profile",{headers:{Authorization:`Bearer ${l.accessToken}`}})).json();v&&(r(Q(v.data)),o("/organization"))}}catch(l){switch(l.data.message){case"Invalid credentials":O.error("Your account or password is wrong");break}}},j=async m=>{try{const l=await g({provider:m,returnUrl:"http://localhost:3000/organization"}).unwrap();l&&console.log(l)}catch(l){console.log(l)}};return e.jsxs("div",{className:"flex flex-col h-full items-center",children:[e.jsxs("form",{onSubmit:I(C),className:"mt-4 flex flex-col w-4/5 sm:w-full",children:[e.jsxs(s.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.3},className:"relative mb-6",children:[e.jsx("input",{className:p("field-input text-header block min-h-[auto] w-full rounded-2xl border-[2px] px-3 py-6 font-semibold placeholder-gray-400 outline-none placeholder:italic focus:border-[2px]",{"field-input--error":x.identity}),...A("identity"),type:"text",name:"identity",placeholder:t("login.identify_placeholder")}),x.identity&&e.jsx("p",{className:"mt-1 text-red",children:x.identity.message})]}),e.jsxs(s.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.4},className:"mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{className:p("field-input text-header block min-h-[auto] w-full rounded-2xl border-[2px] px-3 py-6 font-semibold placeholder-gray-400 outline-none placeholder:italic focus:border-[2px]",{"field-input--error":x.identity}),...A("password"),type:c?"text":"password",name:"password",placeholder:t("login.password_placeholder")}),e.jsx("button",{type:"button",className:"absolute right-4 top-[50%] translate-y-[-50%] cursor-pointer text-header",onClick:()=>{h(!c)},children:c?e.jsx(b,{className:"h-[20px] w-[20px]"}):e.jsx(y,{className:" h-[20px] w-[20px]"})})]}),x.password&&e.jsx("p",{className:"mt-1 text-red",children:x.password.message})]}),e.jsx(s.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.5},children:e.jsx("button",{disabled:w,type:"submit",className:"flex w-full btn hover:bg-blue-light2 bg-blue-light3 text-white",children:w?e.jsx(G,{size:28,color:"info"}):t("login.signin_btn")})})]}),e.jsxs("div",{className:"w-4/5 sm:w-full mt-3 flex flex-col gap-y-2",children:[e.jsx(s.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,delay:.6},children:e.jsx("button",{onClick:()=>o("/signup"),className:"block w-full py-4 text-sm font-semibold hover:rounded-[18px] hover:bg-gray-light2 text-header",children:t("login.option")})}),e.jsx(s.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.7},children:e.jsx("button",{onClick:()=>a("forgot-password"),className:"block w-full py-4 text-sm font-semibold hover:rounded-[18px] hover:bg-gray-light2 text-header",children:t("login.forgot_text")})}),e.jsx(s.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.8},onClick:()=>{j(S.GOOGLE)},children:e.jsx("form",{method:"POST",action:"https://eventhubsolutionbackendserverplan.azurewebsites.net/api/auth/external-login?provider=Google&returnUrl=http://localhost:3000/organization",children:e.jsxs("button",{className:"flex w-full flex-row items-center justify-around rounded-2xl border-[2px] border-textPurple bg-white py-[0.8rem] font-bold text-textGray hover:bg-purple hover:text-white",children:[e.jsx("img",{loading:"lazy",src:K,alt:"",className:"block h-[20px] w-[20px]"}),e.jsx("span",{className:"inline-block",children:t("login.signin_google")}),e.jsx("span",{})]})})}),e.jsx(s.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.8},children:e.jsx("form",{method:"POST",action:"https://eventhubsolutionbackendserverplan.azurewebsites.net/api/auth/external-login?provider=Facebook&returnUrl=http://localhost:3000/organization",children:e.jsxs("button",{className:"flex w-full flex-row items-center justify-around rounded-2xl border-[2px] border-blue bg-white py-[0.8rem] font-bold text-textGray hover:bg-blue-light3 hover:text-white",onClick:()=>{j(S.FACEBOOK)},children:[e.jsx("img",{loading:"lazy",src:J,alt:"",className:"block h-[20px] w-[20px]"}),e.jsx("span",{className:"inline-block",children:t("login.signin_facebook")}),e.jsx("span",{})]})})}),e.jsx(s.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.9},children:e.jsx("button",{onClick:()=>{o("/")},className:"mb-3 block w-full py-4 text-sm font-bold hover:rounded-[18px] hover:bg-gray-light2 text-header",children:t("back_btn")})})]})]})},q=u("signin")(D),Z=i=>{const{t,changeSession:a}=i,[r,o]=d.useState(""),n=()=>{a("reset-password")};return e.jsx("div",{className:"flex flex-col h-full items-center",children:e.jsxs("div",{className:"mt-4 flex flex-col w-4/5 sm:w-full",children:[e.jsx(s.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.1},className:"relative mb-6",children:e.jsx("input",{className:p("field-input text-header block min-h-[auto] w-full rounded-2xl border-[2px] px-3 py-6 font-semibold placeholder-gray-400 outline-none placeholder:italic focus:border-[2px]"),type:"text",value:r,name:"opt",placeholder:t("verify_opt.opt_placeholder"),onChange:c=>{o(c.target.value)}})}),e.jsx(s.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.2},children:e.jsx("button",{className:"flex w-full btn hover:bg-blue-light2 bg-blue-light2 text-white",onClick:n,children:t("submit_btn")})}),e.jsx(s.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.3},children:e.jsx("button",{onClick:()=>{a("forgot-password")},className:"mt-3 block w-full py-4 text-sm font-bold hover:rounded-[18px] hover:bg-gray-light2 text-header",children:t("back_btn")})})]})})},$=u("signin")(Z),ee=i=>{const{t,changeSession:a}=i,r=d.useRef(null),o=d.useRef(null),[n,c]=d.useState(!1),[h,g]=d.useState(!1),f=()=>{};return e.jsx("div",{className:"flex flex-col h-full items-center",children:e.jsxs("div",{className:"mt-4 flex flex-col w-4/5 sm:w-full",children:[e.jsxs(s.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.4},className:"relative mb-6",children:[e.jsx("input",{className:p("field-input text-header block min-h-[auto] w-full rounded-2xl border-[2px] px-3 py-6 font-semibold placeholder-gray-400 outline-none placeholder:italic focus:border-[2px]"),type:n?"text":"password",ref:r,name:"password",placeholder:t("reset_password.password_placeholder")}),e.jsx("button",{className:"absolute right-4 top-[50%] translate-y-[-50%] cursor-pointer",onClick:()=>{c(!n)},children:n?e.jsx(b,{className:" h-[20px] w-[20px]"}):e.jsx(y,{className:" h-[20px] w-[20px]"})})]}),e.jsxs(s.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.5},className:"relative mb-6","data-te-input-wrapper-init":!0,children:[e.jsx("input",{ref:o,className:p("field-input text-header block min-h-[auto] w-full rounded-2xl border-[2px] px-3 py-6 font-semibold placeholder-gray-400 outline-none placeholder:italic focus:border-[2px]"),type:h?"text":"password",name:"confirmPassword",placeholder:t("reset_password.confirm_password_placeholder")}),e.jsx("button",{className:"absolute right-4 top-[50%] translate-y-[-50%] cursor-pointer",onClick:()=>{g(!h)},children:h?e.jsx(b,{className:" h-[20px] w-[20px]"}):e.jsx(y,{className:" h-[20px] w-[20px]"})})]}),e.jsx(s.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.6},children:e.jsx("button",{className:"flex w-full btn hover:bg-blue-light2 bg-blue-light2 text-white",onClick:f,children:t("submit_btn")})}),e.jsx(s.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.3},children:e.jsx("button",{onClick:()=>{a("forgot-password")},className:"mt-3 block w-full py-4 text-sm font-bold hover:rounded-[18px] hover:bg-gray-light2 text-header",children:t("back_btn")})})]})})},te=u("signin")(ee),k={"sign-in":!1,"forgot-password":!1,"verify-opt":!1,"reset-password":!1},se=({t:i})=>{const{width:t}=_(),[a,r]=d.useState({...k,"sign-in":!0}),o=n=>{r({...k,[n]:!0})};return e.jsxs("div",{className:"flex-1 grid grid-cols-1 xl:grid-cols-2 4xl:grid-cols-[minmax(0,_1030px)_minmax(0,_1fr)]",children:[t>=1280&&e.jsxs("div",{className:"bg-body flex flex-col justify-center items-center lg:p-[60px]",children:[e.jsx("a",{className:"logo",href:"/",children:e.jsx("img",{loading:"lazy",src:L,alt:"EventHub",className:"w-[200px] object-cover"})}),e.jsx("p",{className:"text-center text-header tracking-[0.2px] font-semibold text-lg leading-6 max-w-[540px] my-7 mx-auto",children:i("slogan")}),e.jsx("img",{loading:"lazy",className:"max-w-[780px]",src:Y,alt:"media"})]}),e.jsx("div",{className:"relative w-full h-screen flex justify-center items-center",children:e.jsx(s.main,{initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.1},className:"mx-auto mt-auto flex min-h-screen w-full max-w-full flex-col overflow-hidden bg-pink",children:e.jsxs("div",{className:"absolute left-[50%] top-[50%] min-h-full w-[600px] translate-x-[-50%] translate-y-[-50%] overflow-hidden rounded-[50px] bg-body px-[100px] py-[60px] mdl:min-h-[600px]",children:[e.jsx(s.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:.2},className:"mb-[30px] flex flex-row items-center justify-center gap-x-4",children:e.jsxs("h1",{className:"text-4xl font-semibold",children:[a["sign-in"]&&i("login.title"),a["forgot-password"]&&i("forgot_password.title"),a["verify-opt"]&&i("verify_opt.title"),a["reset-password"]&&i("reset_password.title")]})}),a["sign-in"]&&e.jsx(q,{changeSession:o}),a["forgot-password"]&&e.jsx(V,{changeSession:o}),a["verify-opt"]&&e.jsx($,{changeSession:o}),a["reset-password"]&&e.jsx(te,{changeSession:o}),e.jsx("div",{className:"absolute bottom-0 left-[50%] min-h-[70px] w-full translate-x-[-50%] text-center",children:e.jsxs("p",{className:"font-semibold text-header",children:[i("footer_one")," - ",e.jsx("span",{className:"font-bold text-header",children:i("footer_two")})]})})]})})})]})},ce=u("signin")(se);export{ce as default};
